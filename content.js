(()=>{"use strict";const t="createScript",e="updateScript",n="deleteScript",a="getScriptListFromStorage",i="pingContentScript",o="scriptsLoadedFromCS",s="contentScriptLoaded",d="scriptOperationDone",r="scriptOperationFailed",c="devModeStatus",u="openTab",p="getVersion";var l="https://scripty.abhisheksatre.com";const m={version:"1.0.1",browserClient:chrome,selectors:{scriptButton:".scriptButton",editButton:".edit",addNewScriptButton:".add-new-script",viewall:"#viewall",downloadScript:".down-script"},scriptdb:"scriptdb",menuTitle:"Scripty",urls:{home:"".concat(l),edit:"".concat(l,"/#/edit"),create:"".concat(l,"/#/create"),welcome:"".concat(l,"/#/welcome"),store:"".concat(l,"/#/store"),devMode:"".concat(l,"/#/dev-mode")},appDomains:["localhost:8080","scripty.abhisheksatre.com"],scriptStorageKey:"script_",triggerType:{automatic:"a",manual:"m"},triggerValue:{pageload:"pageload",beforeload:"beforeload"}};document.documentElement.setAttribute("scripty",!0),m.browserClient.runtime.onMessage.addListener((function(t,e,n){e.tab&&e.tab.id;if(t.action===i)n({alive:!0})})),window.addEventListener("message",(function(i){if(i.source==window&&i.data.type)try{i.data.type===a?m.browserClient.runtime.sendMessage({action:a},(function(t){document.dispatchEvent(new CustomEvent(o,{detail:{scripts:t}}))})):i.data.type===t?m.browserClient.runtime.sendMessage({action:t,data:i.data.data},(function(t){m.browserClient.runtime.lastError;t.success?(t.opTitle=i.data.title,document.dispatchEvent(new CustomEvent(d,{detail:t})),document.dispatchEvent(new CustomEvent(o,{detail:t}))):document.dispatchEvent(new CustomEvent(r,{detail:t}))})):i.data.type===e?m.browserClient.runtime.sendMessage({action:e,data:i.data.data,id:i.data.id},(function(t){m.browserClient.runtime.lastError;t.success?(t.opTitle=i.data.title,document.dispatchEvent(new CustomEvent(d,{detail:t})),document.dispatchEvent(new CustomEvent(o,{detail:t}))):document.dispatchEvent(new CustomEvent(r,{detail:t}))})):i.data.type===n?m.browserClient.runtime.sendMessage({action:n,id:i.data.id},(function(t){m.browserClient.runtime.lastError;document.dispatchEvent(new CustomEvent(o,{detail:t}))})):i.data.type===c?m.browserClient.runtime.sendMessage({action:c},(function(t){document.dispatchEvent(new CustomEvent(c,{detail:{enabled:t}}))})):i.data.type===u?m.browserClient.runtime.sendMessage({action:u,tabUrl:i.data.tabUrl}):i.data.type===p&&m.browserClient.runtime.sendMessage({action:p},(function(t){document.dispatchEvent(new CustomEvent(p,{detail:t}))}))}catch(t){}}),!1),document.dispatchEvent(new CustomEvent(s,{detail:""}))})();